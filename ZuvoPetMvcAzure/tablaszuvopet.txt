DROP TABLE IF EXISTS FAVORITOS;
DROP TABLE IF EXISTS SOLICITUDESADOPCION;
DROP TABLE IF EXISTS LIKESHISTORIAS;
DROP TABLE IF EXISTS HISTORIASEXITO;
DROP TABLE IF EXISTS NOTIFICACIONES;
DROP TABLE IF EXISTS MENSAJES;
DROP TABLE IF EXISTS MASCOTAS;
DROP TABLE IF EXISTS REFUGIOS;
DROP TABLE IF EXISTS ADOPTANTES;
DROP TABLE IF EXISTS PERFIL_USUARIO;
DROP TABLE IF EXISTS USUARIOS;

-- 游늷 TABLA Usuarios (Base de autenticaci칩n)
CREATE TABLE USUARIOS (
    Id INT PRIMARY KEY,  -- Identificador 칰nico del usuario
    NombreUsuario NVARCHAR(50) UNIQUE NOT NULL,  -- Nombre de usuario (칰nico)
    Email NVARCHAR(255) UNIQUE NOT NULL,  -- Email (칰nico)
    ContrasenaLimpia NVARCHAR(255) NOT NULL,  -- Contrase침a en texto claro (se utiliza temporalmente para encriptaci칩n)
    ContrasenaEncriptada VARBINARY(MAX) NOT NULL,  -- Contrase침a encriptada (almacenada como byte array)
    Salt NVARCHAR(255) NOT NULL,  -- Salt para la contrase침a
    TipoUsuario NVARCHAR(20) NOT NULL CHECK (TipoUsuario IN ('Adoptante', 'Refugio')),  -- Tipo de usuario
    FechaRegistro DATETIME DEFAULT GETDATE(),  -- Fecha de creaci칩n del usuario
);
GO

-- 游늷 TABLA Perfil_Usuario (Visible para el exterior)
CREATE TABLE PERFIL_USUARIO (
    Id INT PRIMARY KEY,  -- Identificador 칰nico del perfil de usuario
    IdUsuario INT UNIQUE NOT NULL,  -- Relaci칩n con la tabla USUARIOS
    FotoPerfil NVARCHAR(255) NULL,  -- Ruta de la imagen de perfil
    Descripcion NVARCHAR(500) NULL,  -- Descripci칩n del usuario (opcional)
    FOREIGN KEY (IdUsuario) REFERENCES USUARIOS(Id)  -- Relaci칩n con la tabla USUARIOS
);
GO

-- 游늷 TABLA Adoptantes
CREATE TABLE ADOPTANTES (
    Id INT PRIMARY KEY,  -- Identificador 칰nico del adoptante
    IdUsuario INT UNIQUE NOT NULL,  -- Relaci칩n con la tabla USUARIOS
    Nombre NVARCHAR(255) NOT NULL,  -- Nombre real del adoptante
    TipoVivienda NVARCHAR(100) NULL,  -- Tipo de vivienda
    TieneJardin BIT NOT NULL DEFAULT 0,  -- Tiene jard칤n o no
    OtrosAnimales BIT NOT NULL DEFAULT 0,  -- Tiene otras mascotas o no
    RecursosDisponibles NVARCHAR(255) NULL,  -- Recursos disponibles para la mascota
    TiempoEnCasa NVARCHAR(255) NULL,  -- Tiempo que pasa en casa
    FOREIGN KEY (IdUsuario) REFERENCES USUARIOS(Id)  -- Relaci칩n con USUARIOS
);
GO

-- 游늷 TABLA Refugios
CREATE TABLE REFUGIOS (
    Id INT PRIMARY KEY,  -- Identificador 칰nico del refugio
    IdUsuario INT UNIQUE NOT NULL,  -- Relaci칩n con la tabla USUARIOS
    NombreRefugio NVARCHAR(255) NOT NULL,  -- Nombre del refugio
    ContactoRefugio NVARCHAR(255) NOT NULL,  -- Contacto del refugio (Tel칠fono/Email)
    CantidadAnimales INT NOT NULL,  -- N칰mero de animales actualmente en el refugio
    CapacidadMaxima INT NOT NULL,  -- Capacidad m치xima de animales en el refugio
    Latitud FLOAT NULL,  -- Latitud del refugio
    Longitud FLOAT NULL,  -- Longitud del refugio
    FOREIGN KEY (IdUsuario) REFERENCES USUARIOS(Id)  -- Relaci칩n con USUARIOS
);
GO

-- 游늷 TABLA Mascotas
CREATE TABLE MASCOTAS (
    Id INT PRIMARY KEY,  -- Identificador 칰nico de la mascota
    Nombre NVARCHAR(100) NOT NULL,  -- Nombre de la mascota
    Especie NVARCHAR(50) NOT NULL,  -- Especie de la mascota (Perro, Gato, etc.)
    FechaNacimiento DATE NOT NULL,  -- Se usa para calcular edad de forma precisa
    Tamano NVARCHAR(50) NOT NULL,  -- Tamano de la mascota (Peque침o, Mediano, Grande)
    Sexo NVARCHAR(20) CHECK (Sexo IN ('Macho', 'Hembra')),  -- Sexo de la mascota
    Castrado BIT DEFAULT 0 NOT NULL,  -- Indica si la mascota est치 esterilizada (1 = S칤, 0 = No)
    Vacunado BIT DEFAULT 0 NOT NULL,  -- Indica si la mascota tiene vacunas al d칤a
    Desparasitado BIT DEFAULT 0 NOT NULL,  -- Indica si ha sido desparasitada
    Sano BIT DEFAULT 1 NOT NULL,  -- Indica si la mascota est치 sana
    Microchip BIT DEFAULT 0 NOT NULL,  -- Indica si la mascota tiene microchip
    CompatibleConNinos BIT DEFAULT 0 NOT NULL,  -- Indica si la mascota es compatible con ninos
    CompatibleConAdultos BIT DEFAULT 0 NOT NULL,  -- Indica si la mascota es compatible con adultos
    CompatibleConOtrosAnimales BIT DEFAULT 0 NOT NULL,  -- Indica si la mascota es compatible con otros animales
    Personalidad NVARCHAR(MAX) NULL, -- Lista de adjetivos separados por comas ("Cari침oso, Sociable")
    Descripcion TEXT NULL,  -- Descripci칩n general de la mascota
    Estado NVARCHAR(50) DEFAULT 'Disponible' CHECK (Estado IN ('Disponible', 'Adoptado')),  -- Estado de la mascota (Disponible, Adoptado)
    Latitud FLOAT NULL,  
    Longitud FLOAT NULL, 
    IdRefugio INT NULL,  -- ID del usuario (refugio o persona) que la registr칩
    Foto NVARCHAR(255) NULL,  -- Ruta de la imagen de la mascota
    Vistas INT DEFAULT 0 NOT NULL,  -- Contador de visualizaciones del perfil de la mascota
    FechaRegistro DATETIME DEFAULT GETDATE(),  -- Fecha en la que la mascota fue registrada
    FOREIGN KEY (IdRefugio) REFERENCES USUARIOS(Id)  -- Relaci칩n con el usuario (adoptante o refugio) que la registr칩
);
GO

-- 游늷 TABLA Favoritos
CREATE TABLE FAVORITOS (
    Id INT PRIMARY KEY,  -- Identificador 칰nico del favorito
    IdAdoptante INT NOT NULL,  -- Usuario que marc칩 la mascota como favorita
    IdMascota INT NOT NULL,  -- ID de la mascota que fue marcada como favorita
    FechaAgregado DATETIME DEFAULT GETDATE(),  -- Fecha en que se agreg칩 a favoritos
    FOREIGN KEY (IdAdoptante) REFERENCES ADOPTANTES(Id),  -- Relaci칩n con la tabla de usuarios
    FOREIGN KEY (IdMascota) REFERENCES MASCOTAS(Id),  -- Relaci칩n con la tabla de mascotas
    UNIQUE (IdAdoptante, IdMascota)  -- Evita que un usuario marque la misma mascota m치s de una vez
);
GO

-- 游늷 TABLA Solicitudes de Adopci칩n
CREATE TABLE SOLICITUDESADOPCION (
    Id INT PRIMARY KEY,  -- Identificador 칰nico de la solicitud de adopci칩n
    IdAdoptante INT NOT NULL,  -- ID del usuario que solicita la adopci칩n
    IdMascota INT NOT NULL,  -- ID de la mascota que se desea adoptar
    Estado NVARCHAR(50) DEFAULT 'Pendiente' CHECK (Estado IN ('Pendiente', 'Aprobada', 'Rechazada')),  -- Estado de la solicitud ('Pendiente', 'Aprobada', 'Rechazada')
    ExperienciaPrevia BIT,  -- Indica si el usuario ha tenido mascotas antes (1 = S칤, 0 = No)
    TipoVivienda NVARCHAR(100),  -- Tipo de vivienda del adoptante (Casa, Departamento, etc.)
    OtrosAnimales BIT,  -- Indica si el adoptante tiene otras mascotas (1 = S칤, 0 = No)
    Recursos NVARCHAR(255),  -- Recursos disponibles para el cuidado de la mascota (Ej: "Jard칤n, Patio, Tiempo Completo")
    TiempoEnCasa NVARCHAR(255),  -- Tiempo que el adoptante pasa en casa (Ej: "Todo el d칤a, Solo noches")
    FechaSolicitud DATETIME DEFAULT GETDATE(),  -- Fecha en que se realiz칩 la solicitud
    FechaRespuesta DATETIME,  -- Fecha en que se aprob칩/rechaz칩 la solicitud (NULL si a칰n est치 pendiente)
    FOREIGN KEY (IdAdoptante) REFERENCES ADOPTANTES(Id),  -- Relaci칩n con el usuario adoptante
    FOREIGN KEY (IdMascota) REFERENCES MASCOTAS(Id)  -- Relaci칩n con la mascota que se desea adoptar
);
GO 

-- 游늷 TABLA Historias de 칄xito
CREATE TABLE HISTORIASEXITO (
    Id INT PRIMARY KEY,  -- Identificador 칰nico de la historia de 칠xito
    IdAdoptante INT NOT NULL,  -- ID del usuario que publica la historia
    IdMascota INT NOT NULL,  -- ID de la mascota protagonista de la historia
    Titulo NVARCHAR(255) NOT NULL,  -- T칤tulo de la historia de 칠xito
    Descripcion TEXT NOT NULL,  -- Relato completo de la historia de adopci칩n
    Foto NVARCHAR(255) NULL,  -- Ruta o URL de una imagen representativa
    FechaPublicacion DATETIME DEFAULT GETDATE(),  -- Fecha en que se public칩 la historia
    Estado NVARCHAR(50) DEFAULT 'Pendiente' CHECK (Estado IN ('Pendiente', 'Aprobada', 'Rechazada')),  -- Estado de la historia ('Pendiente', 'Aprobada', 'Rechazada')
    FOREIGN KEY (IdAdoptante) REFERENCES ADOPTANTES(Id),  -- Relaci칩n con el usuario que adopta
    FOREIGN KEY (IdMascota) REFERENCES MASCOTAS(Id)  -- Relaci칩n con la mascota adoptada
);
GO

-- 游늷 TABLA Likes en Historias
CREATE TABLE LIKESHISTORIAS (
    Id INT PRIMARY KEY,  -- Identificador 칰nico del "like"
    IdHistoria INT NOT NULL,  -- ID de la historia que recibe la reacci칩n
    IdUsuario INT NOT NULL,  -- ID del usuario que da la reacci칩n
    TipoReaccion NVARCHAR(20) NOT NULL CHECK (TipoReaccion IN ('MeGusta', 'MeEncanta', 'Inspirador', 'Solidario', 'Asombroso')),  -- Tipo de reacci칩n (MeGusta, MeEncanta, etc.)
    Fecha DATETIME DEFAULT GETDATE(),  -- Fecha y hora en que se realiz칩 la reacci칩n
    FOREIGN KEY (IdHistoria) REFERENCES HISTORIASEXITO(Id),  -- Relaci칩n con la historia
    FOREIGN KEY (IdUsuario) REFERENCES USUARIOS(Id),  -- Relaci칩n con el usuario
    UNIQUE (IdHistoria, IdUsuario, TipoReaccion)  -- Evita que un usuario d칠 el mismo tipo de "like" m치s de una vez a una historia
);
GO

-- 游늷 TABLA Notificaciones (Para SignalR)
CREATE TABLE NOTIFICACIONES (
    Id INT PRIMARY KEY,  -- Identificador 칰nico de la notificaci칩n
    IdUsuario INT NOT NULL,  -- ID del usuario que recibe la notificaci칩n
    Mensaje NVARCHAR(255) NOT NULL,  -- Contenido del mensaje de la notificaci칩n
	Tipo NVARCHAR(50) NOT NULL CHECK (Tipo IN ('Solicitud', 'Aprobaci칩n', 'Mensaje', 'Sistema')),  -- Tipo de notificaci칩n
    Url NVARCHAR(255) NULL,  -- URL opcional para redirigir al usuario
    Fecha DATETIME DEFAULT GETDATE(),  -- Fecha y hora en que se gener칩 la notificaci칩n
    Leido BIT DEFAULT 0,  -- Estado de la notificaci칩n (0 = No le칤da, 1 = Le칤da)
    FOREIGN KEY (IdUsuario) REFERENCES USUARIOS(Id)  -- Relaci칩n con el usuario receptor de la notificaci칩n
);
GO

-- 游늷 TABLA Mensajes (Para SignalR)
CREATE TABLE MENSAJES (
    Id INT PRIMARY KEY,  -- Identificador 칰nico del mensaje
    IdEmisor INT NOT NULL,  -- ID del usuario que env칤a el mensaje
    IdReceptor INT NOT NULL,  -- ID del usuario que recibe el mensaje
    Contenido TEXT NOT NULL,  -- Contenido del mensaje enviado
    Fecha DATETIME DEFAULT GETDATE(),  -- Fecha y hora en que se envi칩 el mensaje
	Leido BIT DEFAULT 0, -- Estado del mensaje (0 = No le칤da, 1 = Le칤da)
    FOREIGN KEY (IdEmisor) REFERENCES USUARIOS(Id),  -- Relaci칩n con el usuario que envi칩 el mensaje
    FOREIGN KEY (IdReceptor) REFERENCES USUARIOS(Id)  -- Relaci칩n con el usuario que recibi칩 el mensaje
);
GO

CREATE OR ALTER VIEW V_AdoptantePerfil AS
SELECT 
    U.Id AS IdUsuario,
    U.NombreUsuario,
    U.Email,
    P.FotoPerfil,
    P.Descripcion,
    A.Nombre,
    A.TipoVivienda,
    A.TieneJardin,
    A.OtrosAnimales,
    A.RecursosDisponibles,
    A.TiempoEnCasa
FROM USUARIOS U
JOIN PERFIL_USUARIO P ON U.Id = P.IdUsuario
JOIN ADOPTANTES A ON U.Id = A.IdUsuario
WHERE U.TipoUsuario = 'Adoptante';
GO

CREATE OR ALTER PROCEDURE SP_PERFILADOPTANTE
(@idusuario int)
as
	select * from V_AdoptantePerfil
	where IdUsuario = @idusuario;
go

CREATE OR ALTER VIEW V_RefugioPerfil AS
SELECT 
    U.Id AS IdUsuario,
    U.NombreUsuario,
    U.Email,
    P.FotoPerfil,
    P.Descripcion,
    R.NombreRefugio,
    R.ContactoRefugio,
    R.CantidadAnimales,
    R.CapacidadMaxima,
    R.Latitud,
	R.Longitud
FROM USUARIOS U
JOIN PERFIL_USUARIO P ON U.Id = P.IdUsuario
JOIN REFUGIOS R ON U.Id = R.IdUsuario
WHERE U.TipoUsuario = 'Refugio';
GO
CREATE OR ALTER PROCEDURE SP_PERFILREFUGIO
(@idusuario int)
as
	select * from V_RefugioPerfil
	where IdUsuario = @idusuario;
go

CREATE OR ALTER VIEW V_MascotasFavoritas
AS
SELECT 
	m.Id,
	m.Nombre,
	m.Especie,
	DATEDIFF(MONTH, m.FechaNacimiento, GETDATE()) AS Edad,
	m.Tamano,
	m.Sexo,
	m.Foto,
	f.IdAdoptante,
	f.FechaAgregado
FROM
 MASCOTAS m
 INNER JOIN
 FAVORITOS f on m.Id = f.IdMascota
 GO

create or alter procedure SP_OBTENERMASCOTASFAVORITAS
 (@idadoptante int)
 as
	select * from V_MascotasFavoritas
	where IdAdoptante = @idadoptante
	order by FechaAgregado desc
 go

CREATE OR ALTER VIEW V_MascotasAdoptadas
AS
SELECT 
    m.Id,
    m.Nombre,
    m.Especie,
    DATEDIFF(MONTH, m.FechaNacimiento, GETDATE()) AS Edad,
    m.Tamano,
    m.Sexo,
    m.Foto,
    s.IdAdoptante,
    s.FechaRespuesta AS FechaAdopcion
FROM
    MASCOTAS m
    INNER JOIN SOLICITUDESADOPCION s ON m.Id = s.IdMascota
WHERE
    s.Estado = 'Aprobada'
GO

CREATE OR ALTER PROCEDURE SP_OBTENERMASCOTASADOPTADAS
    (@idadoptante int)
AS
    SELECT * FROM V_MascotasAdoptadas
    WHERE IdAdoptante = @idadoptante
    ORDER BY FechaAdopcion DESC
GO

-- 游늷 Insertar en USUARIOS con CONVERT a VARBINARY
INSERT INTO USUARIOS (Id, NombreUsuario, Email, ContrasenaLimpia, ContrasenaEncriptada, Salt, TipoUsuario)
VALUES 
(1, 'juanperez', 'juan@example.com', '123', CONVERT(VARBINARY(MAX), '5688636BA1D36F898A327189B6AF0731AF8F9C46C52B627001A7CF8226808F8D26026B5387C73EAA87A5E7213168C78A287728E0AA3B76E11EA19595038EA8A9', 2), 'S5C6mZA1vdO+c/3tarND6Rl0bBYIvwRA3tJZFzSayLs=', 'Adoptante'),
(2, 'maria123', 'maria@example.com', '321', CONVERT(VARBINARY(MAX), '536659CF5AB46E9CE4E7AD57A4F60096BEB8B7889088C3441552F4EEEA0B2C844670AA3AC64487096D5A95E7D69939F8D32C6527DD7963FC6F5FDB443FA5660B', 2), 'n0qcuDcOqDxBI/25hnHWk3nmWHkEp0RnBispdRkQHqw=', 'Adoptante'),
(3, 'carlos789', 'carlos@example.com', '098', CONVERT(VARBINARY(MAX), '2CFB89CF614BD21996FC781A764BBA0E6537E43DB47F5CC706158302BB5B7DBE18F5DB1A40BD8C84D811880E7CBC4789CE3F5778E676973B687ECDEAA0162167', 2), '0fpKvyG4kAhAJKw2y6yaCHhdZrLgzYqyLBJ0ZrDQq3A=', 'Adoptante'),
(4, 'refugio_vida', 'contacto@refugiovida.com', '890', CONVERT(VARBINARY(MAX), '5AE819DAB5B9A0D257CD4B862AF4D13B4E5FEA0095A13D8DD493D943396565F47605B0826B32F125BAA55E876D0ECC826E55F5F532A56270C33E9F1663723D09', 2), 'oTneW+0XKLwI0JIrNN7Pzxxer6mzAA5XCn819pDAg/o=', 'Refugio'),
(5, 'hogar_animal', 'info@hogaranimal.com', '345', CONVERT(VARBINARY(MAX), 'CD848AF824CD985B0386DC87D808ED5920ED29EBD90FF27498E5E3CD348EE2E8DA4AE60D24F07AB613294BBE723D50E364FA039625C5930244F8180035FBFDBD', 2), 'fb9JMUlulKbFeZBJ3BdUHDcze17YSB9YCBuGq3Kki48=', 'Refugio'),
(6, 'mario', 'mariojimenez@gmail.com', 'contrasenamario', CONVERT(VARBINARY(MAX), '7638DE15FB9FF71E2B986F58EC9886EEF15E602396866A282E4B3EF4828EB19EEAAD731455AB2E713AADA2D349878242F453D89F420F9D7E90845ED0BD353509', 2), 'SGA4TxFmqSbsPcjPB1u3H5bLmhQRlIn3EPyIaLQYlGw=', 'Adoptante');

-- 游늷 Insertar en PERFIL_USUARIO con formato ISO 8601
INSERT INTO PERFIL_USUARIO (Id, IdUsuario, FotoPerfil, Descripcion)
VALUES 
(1, 1, 'foto_juan.jpg', 'Soy un amante de los animales, busco adoptar un perro o gato.'),
(2, 2, 'foto_maria.jpg', 'Me encanta cuidar a los animales y busco un compa침ero peludo.'),
(3, 3, 'foto_carlos.jpg', 'Tengo experiencia con animales, quiero adoptar un gato.'),
(4, 4, 'foto_refugio1.jpg', 'Refugio con a침os de experiencia en el rescate de animales.'),
(5, 5, 'foto_refugio2.jpg', 'Hogar para animales abandonados, buscamos un buen hogar para ellos.'),
(6, 6, 'foto_mario.jpg', '춰Bienvenido a tu perfil! Edita la descripci칩n a tu gusto.');

-- 游늷 Insertar en ADOPTANTES
INSERT INTO ADOPTANTES (Id, IdUsuario, Nombre, TipoVivienda, TieneJardin, OtrosAnimales, RecursosDisponibles, TiempoEnCasa)
VALUES 
(1, 1, 'Juan P칠rez', 'Casa', 1, 1, '["Jard칤n"]', '4-8 horas'),
(2, 2, 'Mar칤a L칩pez', 'Departamento', 0, 0, '["Tiempo parcial"]', '4-8 horas'),
(3, 3, 'Carlos G칩mez', 'Casa', 1, 1, '["Espacio amplio"]', '4-8 horas'),
(4, 6, 'Mario Jim칠nez Marset', 'Piso', 0, 1, '["Estilo de vida adecuado","Compromiso emocional"]', '4-8 horas');

-- 游늷 Insertar en REFUGIOS
INSERT INTO REFUGIOS (Id, IdUsuario, NombreRefugio, ContactoRefugio, CantidadAnimales, CapacidadMaxima, Latitud, Longitud)
VALUES 
(1, 4, 'Refugio Vida', '642630675', 19, 50, 40.416775, -3.703790),
(2, 5, 'Hogar Animal', '640241325', 11, 60, 41.385064, 2.173404);

-- 游늷 Insertar en MASCOTAS (Correcci칩n de `IdRefugio`)
INSERT INTO MASCOTAS (Id, Nombre, Especie, FechaNacimiento, Tamano, Sexo, Castrado, Vacunado, Desparasitado, Sano, Microchip, CompatibleConNinos, CompatibleConAdultos, CompatibleConOtrosAnimales, Personalidad, Descripcion, Estado, Latitud, Longitud, IdRefugio, Foto, Vistas)
VALUES
(1, 'Max', 'Perro', '2020-06-15', 'Mediano', 'Macho', 1, 1, 1, 1, 0, 1, 1, 1, 'Juguet칩n, Amigable', 'Perro rescatado en busca de un hogar', 'Disponible', 40.4168, -3.7038, 1, 'perro1.jpg', 7),
(2, 'Luna', 'Perro', '2019-08-20', 'Peque침o', 'Hembra', 1, 1, 1, 1, 1, 1, 1, 1, 'Tranquila, Cari침osa', 'Perra rescatada de la calle', 'Adoptado', 41.3851, 2.1734, 1, 'perro2.jpg', 8),
(3, 'Rocky', 'Perro', '2021-01-10', 'Grande', 'Macho', 1, 1, 1, 1, 1, 0, 1, 1, 'En칠rgico, Protector', 'Necesita espacio amplio', 'Disponible', 39.4699, -0.3763, 2, 'perro3.jpg', 5),
(4, 'Nina', 'Perro', '2022-05-25', 'Peque침o', 'Hembra', 1, 1, 1, 1, 0, 1, 1, 1, 'Curiosa, Activa', 'Busca un hogar amoroso', 'Disponible', 42.3601, -8.4115, 2, 'perro4.jpg', 2),
(5, 'Bruno', 'Perro', '2017-03-12', 'Grande', 'Macho', 1, 1, 1, 1, 1, 1, 1, 1, 'Tranquilo, Fiel', 'Rescatado de una carretera', 'Disponible', 43.2645, -8.6169, 1, 'perro5.jpg', 5),
(6, 'Mila', 'Perro', '2019-09-30', 'Mediano', 'Hembra', 1, 1, 1, 1, 1, 1, 1, 1, 'Juguetona, Energ칠tica', 'Le encanta correr y jugar', 'Adoptado', 40.4637, -3.7492, 2, 'perro6.jpg', 5),
(7, 'Simba', 'Perro', '2016-07-18', 'Grande', 'Macho', 1, 1, 1, 1, 1, 1, 1, 1, 'Inteligente, Protector', 'Muy sociable con otros perros', 'Disponible', 41.3784, 2.1914, 1, 'perro7.jpg', 12),
(8, 'Mimi', 'Gato', '2021-02-15', 'Mediano', 'Hembra', 1, 1, 1, 1, 1, 1, 1, 1, 'Cari침osa, Independiente', 'Gata que busca un hogar acogedor', 'Disponible', 40.7315, -3.8985, 1, 'gato1.jpg', 6),
(9, 'Felix', 'Gato', '2019-10-30', 'Peque침o', 'Macho', 1, 1, 1, 1, 0, 1, 1, 1, 'Sociable, Activo', 'Gato juguet칩n y cari침oso', 'Disponible', 41.9232, 2.1120, 2, 'gato2.jpg', 4),
(10, 'Whiskers', 'Gato', '2020-03-05', 'Mediano', 'Macho', 1, 1, 1, 1, 1, 1, 1, 1, 'Tranquilo, Cari침oso', 'Gato que disfruta de la compa침칤a humana', 'Disponible', 40.4380, -3.7097, 1, 'gato3.jpg', 7),
(11, 'Rocco', 'Conejo', '2020-04-22', 'Peque침o', 'Macho', 1, 1, 1, 1, 0, 1, 1, 1, 'T칤mido, Dulce', 'Conejo rescatado de un jard칤n', 'Disponible', 40.4620, -3.7000, 1, 'conejo1.jpg', 3),
(12, 'Nina', 'Conejo', '2021-05-18', 'Mediano', 'Hembra', 1, 1, 1, 1, 1, 0, 1, 1, 'Curiosa, Alegre', 'Disfruta saltando por el jard칤n', 'Disponible', 41.8997, 1.0193, 2, 'conejo2.jpg', 4),
(13, 'Daisy', 'Conejo', '2020-07-30', 'Mediano', 'Hembra', 1, 1, 1, 1, 0, 1, 1, 1, 'Amistosa, Cari침osa', 'Le gusta estar acompa침ada', 'Disponible', 39.7747, -0.2465, 1, 'conejo3.jpg', 6),
(14, 'Toby', 'H치mster', '2022-03-11', 'Peque침o', 'Macho', 1, 1, 1, 1, 1, 0, 1, 1, 'Activo, Curioso', 'Disfruta de sus ruedas de ejercicio', 'Disponible', 40.9650, -5.6550, 1, 'hamster1.jpg', 6),
(15, 'Lola', 'H치mster', '2022-08-05', 'Peque침o', 'Hembra', 1, 1, 1, 1, 0, 1, 1, 1, 'Amistosa, Juguetona', 'Siempre est치 corriendo y explorando', 'Disponible', 41.4036, 2.1744, 2, 'hamster2.jpg', 5),
(16, 'Milo', 'H치mster', '2021-11-03', 'Peque침o', 'Macho', 1, 1, 1, 1, 0, 0, 1, 1, 'T칤mido, Sociable', 'Le gusta correr en su rueda', 'Disponible', 41.8774, -0.4211, 1, 'hamster3.jpg', 4),
(17, 'Kiko', 'Hur칩n', '2019-11-20', 'Mediano', 'Macho', 1, 1, 1, 1, 0, 1, 1, 1, 'Divertido, Inquieto', 'Disfruta de los espacios peque침os para explorar', 'Disponible', 40.4105, -3.7248, 1, 'huron1.jpg', 4),
(18, 'Maya', 'Hur칩n', '2020-02-03', 'Peque침o', 'Hembra', 1, 1, 1, 1, 1, 1, 1, 1, 'Cari침osa, Inteligente', 'Le encanta jugar con otros animales', 'Disponible', 42.8762, -8.5448, 2, 'huron2.jpg', 3),
(19, 'Juno', 'Hur칩n', '2021-09-07', 'Mediano', 'Macho', 1, 1, 1, 1, 0, 1, 1, 1, 'Curioso, Energ칠tico', 'Le encanta explorar su entorno', 'Disponible', 41.6790, -0.9070, 1, 'huron3.jpg', 5),
(20, 'Rocky', 'Rata', '2021-12-15', 'Peque침o', 'Macho', 1, 1, 1, 1, 0, 1, 1, 1, 'Sociable, Activo', 'Rata que busca un hogar c치lido', 'Disponible', 40.4555, -3.5761, 1, 'rata1.jpg', 5),
(21, 'Sasha', 'Rata', '2021-11-10', 'Peque침o', 'Hembra', 1, 1, 1, 1, 1, 1, 1, 1, 'Tranquila, Cari침osa', 'Le gusta estar en su jaula', 'Disponible', 42.2641, -8.7220, 2, 'rata2.jpg', 7),
(22, 'Gizmo', 'Rata', '2022-06-22', 'Peque침o', 'Macho', 1, 1, 1, 1, 0, 1, 1, 1, 'Activo, Juguet칩n', 'Rata sociable que disfruta de los mimos', 'Disponible', 41.4205, 2.1819, 1, 'rata3.jpg', 6),
(23, 'Duna', 'Erizo', '2020-10-12', 'Peque침o', 'Hembra', 1, 1, 1, 1, 0, 1, 1, 1, 'Curiosa, T칤mida', 'Eriza en busca de un hogar tranquilo', 'Disponible', 40.4168, -3.7038, 1, 'erizo1.jpg', 4),
(24, 'Pip', 'Erizo', '2021-04-05', 'Peque침o', 'Macho', 1, 1, 1, 1, 0, 0, 1, 1, 'Inquieto, Alegre', 'Disfruta de explorar su entorno', 'Disponible', 40.7306, -3.9352, 2, 'erizo2.jpg', 3),
(25, 'Pico', 'Erizo', '2021-02-15', 'Peque침o', 'Macho', 1, 1, 1, 1, 1, 1, 1, 1, 'Alegre, Activo', 'Busca una casa con jard칤n', 'Disponible', 39.9042, -0.4074, 1, 'erizo3.jpg', 5),
(26, 'Chester', 'Ardilla', '2021-03-25', 'Peque침o', 'Macho', 1, 1, 1, 1, 0, 1, 1, 1, 'Curioso, R치pido', 'Ardilla muy activa, le encanta trepar 치rboles', 'Disponible', 40.7128, -3.7038, 1, 'ardilla1.jpg', 4),
(27, 'Bella', 'Ardilla', '2020-06-17', 'Peque침a', 'Hembra', 1, 1, 1, 1, 0, 1, 1, 1, 'Juguetona, Sociable', 'Le encanta saltar y jugar con otros animales', 'Disponible', 41.9028, -3.7038, 2, 'ardilla2.jpg', 5),
(28, 'Rocky', 'Ardilla', '2020-09-05', 'Mediana', 'Macho', 1, 1, 1, 1, 0, 1, 1, 1, 'Inquieto, Explorador', 'Busca un hogar con 치rboles y espacio', 'Disponible', 40.4168, -3.7038, 1, 'ardilla3.jpg', 3),
(29, 'Nutty', 'Ardilla', '2022-02-10', 'Peque침a', 'Hembra', 1, 1, 1, 1, 0, 1, 1, 1, 'T칤mida, Activa', 'Le encanta esconder nueces en su guarida', 'Disponible', 40.7306, -3.7038, 1, 'ardilla4.jpg', 4),
(30, 'Zippy', 'Ardilla', '2021-08-18', 'Mediana', 'Macho', 1, 1, 1, 1, 0, 1, 1, 1, '츼gil, R치pido', 'Le gusta saltar de 치rbol en 치rbol', 'Disponible', 40.7831, -3.7038, 2, 'ardilla5.jpg', 6);

-- 游늷 Insertar en FAVORITOS
INSERT INTO FAVORITOS (Id, IdAdoptante, IdMascota)
VALUES 
(1, 1, 1), (2, 2, 2), (3, 3, 3),
(4, 4, 1), (5, 4, 4), (7, 4, 13);

-- 游늷 Insertar en SOLICITUDESADOPCION
INSERT INTO SOLICITUDESADOPCION (Id, IdAdoptante, IdMascota, Estado, ExperienciaPrevia, TipoVivienda, OtrosAnimales, Recursos, TiempoEnCasa, FechaRespuesta)
VALUES 
(1, 1, 1, 'Pendiente', 1, 'Casa', 1, '["Jard칤n"]', '4-8 horas', NULL),
(2, 2, 2, 'Aprobada', 1, 'Departamento', 0, '["Tiempo parcial"]', '4-8 horas', CAST(N'2024-03-25T17:30:00' AS DATETIME)),
(3, 3, 3, 'Rechazada', 0, 'Casa', 1, '["Espacio amplio"]', '4-8 horas', NULL),
(4, 4, 6, 'Aprobada', 1, 'Piso', 1, '["Estilo de vida adecuado","Compromiso emocional"]', '4-8 horas', CAST(N'2025-03-13T21:18:16' AS DATETIME));

-- 游늷 Insertar en HISTORIASEXITO
INSERT INTO HISTORIASEXITO (Id, IdAdoptante, IdMascota, Titulo, Descripcion, Foto, Estado)
VALUES 
(1, 1, 1, 'Max encontr칩 un hogar', 'Despu칠s de meses en el refugio, Max fue adoptado por Juan.', 'dueno1.jpg', 'Aprobada'),
(2, 2, 2, 'Luna es feliz en su nueva casa', 'Mar칤a adopt칩 a Luna y la cuida con mucho amor.', 'dueno2.jpg', 'Aprobada'),
(3, 3, 3, 'Rocky disfruta de su nueva familia', 'Aunque inicialmente fue rechazado, Rocky encontr칩 un hogar.', 'dueno3.jpg', 'Aprobada');

-- 游늷 Insertar en LIKESHISTORIAS
INSERT INTO LIKESHISTORIAS (Id, IdHistoria, IdUsuario, TipoReaccion)
VALUES 
(1, 1, 1, 'MeGusta'),
(2, 1, 2, 'MeEncanta'),
(3, 2, 3, 'Inspirador'),
(4, 3, 4, 'Solidario'),
(5, 3, 5, 'Asombroso'),
(6, 1, 6, 'MeEncanta'),
(7, 2, 6, 'Asombroso'),
(8, 3, 6, 'Inspirador'),
(9, 2, 5, 'Inspirador');

-- 游늷 Insertar en NOTIFICACIONES
INSERT INTO NOTIFICACIONES (Id, IdUsuario, Mensaje, Tipo, Url, Leido)
VALUES 
(1, 1, 'Tu solicitud de adopci칩n est치 pendiente', 'Solicitud', NULL, 1),
(2, 2, 'Tu inscripci칩n al evento ha sido confirmada', 'Aprobaci칩n', NULL, 0),
(3, 6, '춰Felicidades! Tu solicitud para adoptar a Mila ha sido aprobada.', 'Aprobaci칩n', '/Adoptante/MisAdopciones', 0);

-- 游늷 Insertar en MENSAJES
INSERT INTO MENSAJES (Id, IdEmisor, IdReceptor, Contenido, Leido)
VALUES 
(1, 1, 4, 'Hola, estoy interesado en adoptar a Max.', 1),
(2, 4, 1, '춰Claro! Podemos agendar una visita.', 0);

select * from USUARIOS
select * from ADOPTANTES
select * from REFUGIOS
select * from PERFIL_USUARIO
select * from HISTORIASEXITO
select * from SOLICITUDESADOPCION
select * from MASCOTAS
select * from FAVORITOS
select * from LIKESHISTORIAS
select * from NOTIFICACIONES
select * from MENSAJES